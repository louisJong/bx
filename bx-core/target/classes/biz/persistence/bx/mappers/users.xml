<?xml version="1.0" encoding= "UTF-8" ?>        
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="users">
<resultMap id="users" type="com.baojing.credit.model.Users">
	<result column="id" property="id"/>
	<result column="username" property="username"/>
	<result column="password" property="password"/>
	<result column="role" property="role"/>
	<result column="company_name" property="companyName"/>
	<result column="district" property="district"/>
	<result column="tel" property="tel"/>
	<result column="fax" property="fax"/>
	<result column="address" property="address"/>
	<result column="start_date" property="startDate"/>
	<result column="end_date" property="endDate"/>
	<result column="update_time" property="updateTime"/>
	<result column="reserve_word" property="reserveWord"/>
</resultMap>
<select id="findById" parameterType="long"  resultMap="users">
	select * 	from users where id=#{id}  
</select>  
<select id="findByUserName" parameterType="string"  resultMap="users">
	select * 	from users where username=#{userName}  
</select>
<insert id="insert"  parameterType="com.baojing.credit.model.Users"  useGeneratedKeys="true" keyProperty="id">
	insert into users(id ,username ,password ,role ,company_name ,district ,tel ,fax ,address ,start_date ,end_date ,update_time ,reserve_word)
   values(#{id,jdbcType=INTEGER} ,#{username,jdbcType=VARCHAR} ,#{password,jdbcType=VARCHAR} ,#{role,jdbcType=VARCHAR} ,#{companyName,jdbcType=VARCHAR} ,#{district,jdbcType=VARCHAR} ,#{tel,jdbcType=VARCHAR} ,#{fax,jdbcType=VARCHAR} ,#{address,jdbcType=VARCHAR} ,#{startDate,jdbcType=DATE} ,#{endDate,jdbcType=DATE} ,#{updateTime,jdbcType=TIMESTAMP} ,#{reserveWord,jdbcType=VARCHAR}) 
</insert>
<insert id="batchInsert"  parameterType="list">
	insert into users(id ,username ,password ,role ,company_name ,district ,tel ,fax ,address ,start_date ,end_date ,update_time ,reserve_word)
   values
	<foreach collection="list" item="item" index="index"   separator=","> 
    (#{item.id,jdbcType=INTEGER} ,#{item.username,jdbcType=VARCHAR} ,#{item.password,jdbcType=VARCHAR} ,#{item.role,jdbcType=VARCHAR} ,#{item.companyName,jdbcType=VARCHAR} ,#{item.district,jdbcType=VARCHAR} ,#{item.tel,jdbcType=VARCHAR} ,#{item.fax,jdbcType=VARCHAR} ,#{item.address,jdbcType=VARCHAR} ,#{item.startDate,jdbcType=DATE} ,#{item.endDate,jdbcType=DATE} ,#{item.updateTime,jdbcType=TIMESTAMP} ,#{item.reserveWord,jdbcType=VARCHAR})
	</foreach> 
</insert>
<update id="update"	parameterType="com.baojing.credit.model.Users">
	update users
<set>
	<if test="password != null">password=#{password},</if>
	<if test="district != null">district=#{district},</if>
	<if test="tel != null">tel=#{tel},</if>
	<if test="fax != null">fax=#{fax},</if>
	<if test="address != null">address=#{address},</if>
	<if test="startDate != null">start_date=#{startDate},</if>
	<if test="endDate != null">end_date=#{endDate},</if>
	<if test="updateTime != null">update_time=#{updateTime},</if>
	<if test="reserveWord != null">reserve_word=#{reserveWord}</if>
</set>
	where id=#{id}
</update>
</mapper>
